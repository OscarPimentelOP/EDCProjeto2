{% extends "layout.html" %}
{% load static %}
{% block content %}

<header class="poke-nav">
    <!-- previus pokemon -->
        <div  id="prev" class="button">
            <svg class="arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"/></svg>
            Previous
        </div>
        <div class="name">
                <span>{{general_info.name}} {{general_info.pokedex_entry}}</span>
        </div>
        <div id="next" class="button">
            Next
            <svg class="arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"/></svg>
        </div>
    <!-- next pokemon -->   
</header>

<section class="info" xmlns:pok="http://edcpokedex.org/" xmlns:pokpred="http://edcpokedex.org/pred" typeof="pok:Pokemon">

    <div class="card-holder">
        <div class="image-holder">
            <img property="pok:art" src="{{ general_info.art }}"
                alt="NOT FOUND">
        </div>
    </div>

    <div class="information">
        <div class="description">
            <p property="pok:description">
                {{ general_info.description }}
            </p>
        </div>

        <div class="basic-info">
            <div class="slot">
                <h3>Height (centimeters)</h3>
                <p property="pok:height">{{ general_info.height }}</p>
            </div>
            <div class="slot">
                <h3>Weight (hectogram)</h3>
                <p property="pok:weight">{{ general_info.weight }}</p>
            </div>
            <div class="slot">
                <h3>Category</h3>
                <a href="Category?name=seed" property="pok:category">{{ category }}</a>
            </div>
            <div class="slot">
                <h3>Abilities</h3>
                <div class="habilities">
                    {% for ability in abilities %}
                    <div class="hability">
                        <a href="Ability?name={{ ability.name }}" property="pok:ability" >{{ ability.name }}</a>
                        <div class="tooltip">
                            <h3> {{ ability.name }} </h3>
                            <p>
                                {{ ability.description }}
                            </p>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                

            </div>
        </div>
    </div>

    <div class="pokemon-stats">
        <h3>Stats</h3>
        <div class="stats">
            <div class="stat">
                <div class="value-list" data-value="{{ general_info.hp }}">
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                </div>
                <span class="name">HP</span>
            </div>
            <div class="stat">
                <div class="value-list" data-value="{{ general_info.attack }}">
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                </div>
                <span class="name">ATTACK</span>
            </div>
            <div class="stat">
                <div class="value-list" data-value="{{ general_info.defense }}">
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                </div>
                <span class="name">DEFENSE</span>
            </div>
            <div class="stat">
                <div class="value-list" data-value="{{ general_info.special_attack }}">
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                </div>
                <span class="name">SPECIAL ATTACK</span>
            </div>
            <div class="stat">
                <div class="value-list" data-value="{{ general_info.special_defense }}">
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                </div>
                <span class="name">SPECIAL DEFENSE</span>
            </div>
            <div class="stat">
                <div class="value-list" data-value="{{ general_info.speed }}">
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                    <span class="value"></span>
                </div>
                <span class="name">SPEED</span>
            </div>
        </div>
    </div>

    <div class="types">
        <h3>Types</h3>
        <div class="types-box">
            {% for type in types %}
                <div class="type">
                    <span property="pok:type">{{ type }}</span>
                </div>
            {% endfor %}
        </div>
        <h3>Weakness</h3>
        <div class="types-box">
            {% for weak in weaknesses%}
            <div class="type">
                <span property="pok:type">{{ weak }}</span>
            </div>
        {% endfor %}
        </div>
        <h3>Strengths</h3>
        <div class="types-box">
            {% for strength in strengths%}
            <div class="type">
                <span property="pok:type">{{ strength }}</span>
            </div>
        {% endfor %}
        </div>
    </div>
</section>

<section class="evolutions">

    <div class="evalution">
        <div class="card">
            <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png" alt=""></img>
            <h3>Bulbasaur</h3>
        </div>
    </div>

    <svg class="arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"/></svg>

    <div class="evalution">
        <div class="card">
            <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/2.png" alt=""></img>
            <h3>Ivysaur</h3>
        </div>
    </div>
  
    <svg class="arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"/></svg>
        
    <div class="evalution">
        <div class="card">
            <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/3.png" alt=""></img>
            <h3>Venusaur</h3>
        </div>
    </div>
   
</section>

<script type="text/javascript">
    $('.value-list').each(function (key, bar) {
        var value = $(this).data('value');
        var result = Math.ceil(value * 0.06);
        $(this).children().each(function (key, bar) {   
                if (key < result) {
                    $(bar).delay(200*key).animate(
                        { opacity: 1 },
                    )
                };
        })
    })
</script>

<script type="text/javascript">
    
    var index = "{{general_info.pokedex_entry}}"
    
    var handler = function (index,next){
        if(!next)
            index--;
        else
            index++;
        
        if(index<1) index = 721;
        else if(index>721) index = 1;

        var url = window.location.href.split("/");
        url[4] = index;
        window.location.href = url.join("/");
    }

    $("#prev").click(function(){
        handler(index,false)
    });
    $("#next").click(function(){
        handler(index,true)
    });

</script>

{% endblock %}
